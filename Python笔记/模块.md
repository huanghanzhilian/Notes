# 模块
在Python中，一个.py文件就称之为一个模块(Module)。
使用模块还可以避免函数名和变量名冲突。相同名字的函数和变量完全可以分别存在不同的模块中，因此，我们自己在编写模块时，不必考虑名字会与其他模块冲突。但是也要注意，尽量不要与内置函数名字冲突。
为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）。
每一个包目录下面都会有一个`__init__.py`的文件，这个文件是必须存在的，否则，Python就把这个目录当成普通目录，而不是一个包。`__init__.py`可以是空文件，也可以有Python代码，因为`__init__.py`本身就是一个模块，而它的模块名就是mycompany。
> 自己创建模块时要注意命名，不能和Python自带的模块名称冲突。例如，系统自带了sys模块，自己的模块就不可命名为sys.py，否则将无法导入系统自带的sys模块。

* 使用模块
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
#上面两行为标准注释，第一行可以让这个.py文件可以直接在Unix/Linux/Mac上运行，第二行注释表示这个.py文件以utf-8编码

' a test module '
#这个字符串表示文档的注释，任何模块的第一个字符串都被视为模块的文档注释

__author__ = 'Michael Liao'
#使用__author__变量把作者写进去

import sys
#导入模块，导入后我们就有了变量sys指向该模块，利用这个变量可以访问sys模块的所有功能

def test():
    args = sys.argv
    #argv变量，用list存储了命令行的所有参数。argv至少有一个元素，因为第一个参数永远是该.py文件的名称
    if len(args)==1:
            print('Hello, world!')
    elif len(args)==2:
        print('Hello, %s!' % args[1])
    else:
        print('Too many arguments!')

if __name__=='__main__':
#直接运行这个模块时，Python解释器把一个特殊变量__name__置为__main__，如果在其他地方导入该模块时，if判断将失效
#这种if测试可以让一个模块通过命令行运行时执行一些额外的代码，最常见的就是运行测试。
    test()
```

* 作用域
  模块的私有函数和变量命名时以`_`作为前缀。
  类似`__xxx__`这样的变量是特殊变量，可以被直接引用，但是有特殊用途，比如上面的`__author__`，`__name__`就是特殊变量，hello模块定义的文档注释也可以用特殊变量`__doc__`访问，我们自己的变量一般不要用这种变量名。
```python
def _private_1(name):
    return 'Hello, %s' % name

def _private_2(name):
    return 'Hi, %s' % name

def greeting(name):
    if len(name) > 3:
        return _private_1(name)
    else:
        return _private_2(name)
```

* 安装第三方模块
在Python中，安装第三方模块，是通过包管理工具pip完成的。
安装Pillow的命令就是：`pip install Pillow`
```python
#利用Pillow生成缩略图
from PIL import Image
im = Image.open('test.png')
#print(im.format, im.size, im.mode) #PNG (400, 300) RGB
im.thumbnail((200, 100))
im.save('thumb.jpg', 'JPEG')
```
其他常用的第三方库还有MySQL的驱动：mysql-connector-python，用于科学计算的NumPy库：numpy，用于生成文本的模板工具Jinja2，等等。

* 模块搜索路径
当我们试图加载一个模块时，Python会在指定的路径下搜索对应的.py文件，如果找不到，就会报错。
默认情况下，Python解释器会搜索当前目录、所有已安装的内置模块和第三方模块，搜索路径存放在sys模块的path变量中。
如果我们要添加自己的搜索目录，有两种方法：
一是直接修改sys.path，添加要搜索的目录，这种方法是在运行时修改，运行结束后失效。
```python
import sys
sys.path.append('/Users/michael/my_py_scripts')
```
第二种方法是设置环境变量PYTHONPATH，该环境变量的内容会被自动添加到模块搜索路径中。设置方式与设置Path环境变量类似。注意只需要添加你自己的搜索路径，Python自己本身的搜索路径不受影响。