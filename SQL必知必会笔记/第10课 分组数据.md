# 第10课 分组数据
## 10.2 创建分组
**GROUP BY子句规则**
* GROUP BY 子句可以包含任意数目的列，因而可以对分组进行嵌套，更细致地进行数据分组。
* 如果在GROUP BY 子句中嵌套了分组，数据将在最后指定的分组上进行汇总。换句话说，在建立分组时，指定的所有列都一起计算（所以不能从个别的列取回数据）。
* GROUP BY 子句中列出的每一列都必须是检索列或有效的表达式（但不能是聚集函数）。如果在SELECT 中使用表达式，则必须在GROUP BY 子句中指定相同的表达式。不能使用别名。
* 大多数SQL实现不允许GROUP BY 列带有长度可变的数据类型（如文本或备注型字段）。
* 除聚集计算语句外，SELECT 语句中的每一列都必须在GROUP BY 子句中给出。
* 如果分组列中包含具有NULL 值的行，则NULL 将作为一个分组返回。如果列中有多行NULL 值，它们将分为一组。
* GROUP BY 子句必须出现在WHERE 子句之后，ORDER BY 子句之前。

## 10.3 过滤分组
> **说明：HAVING 和WHERE 的差别**
> WHERE 在数据分组前进行过滤，HAVING 在数据分组后进行过滤。这是一个重要的区别，WHERE 排除的行不包括在分组中。这可能会改变计算值，从而影响HAVING 子句中基于这些值过滤掉的分组。

## 10.5 SELECT子句顺序

| 子句       | 说明        |             |
| -------- | --------- | ----------- |
| SELECT   | 要返回的列或表达式 | 是           |
| FROM     | 从中检索数据的表  | 仅在从表选择数据时使用 |
| WHERE    | 行级过滤      | 否           |
| GROUP BY | 分组说明      | 仅在按组计算聚集时使用 |
|          | 组级过滤      | 否           |
| ORDER BY | 输出排序顺序    | 否           |